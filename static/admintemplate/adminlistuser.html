<div ng-controller="userCtrl" class="container">
  <br>
  <br>
  <div class="row">
    <div class="col-sm-6">
      <table class="table table-bordered table-striped table-hover">
        <tr>
          <th>用户名</th>
          <th>备注</th>
          <th>手机</th>
          <th>QQ</th>
          <th>权限</th>
        </tr>
        <tr style="cursor:pointer;" ng-repeat="user in users" ng-click="choose(user)">
          <td>{{user.username}}</td>
          <td>{{user.comment}}</td>
          <td>{{user.tel}}</td>
          <td>{{user.qq}}</td>
          <td>{{user.role}}</td>
        </tr>
      </table>
    </div>
    <div class="col-sm-6">
      <div class="">
        <form class="form-horizontal" role="form" name="userform">
          <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">用户名</label>
            <div class="col-sm-10">
              <input ng-model="usernow.username" type="text" class="form-control" id="inputEmail3" placeholder="用户名" required>
            </div>
          </div>
          <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">备注</label>
            <div class="col-sm-10">
              <input ng-model="usernow.comment" type="text" class="form-control" id="inputEmail3" placeholder="备注" required>
            </div>
          </div>
          <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">手机号码</label>
            <div class="col-sm-10">
              <input ng-model="usernow.tel" type="text" class="form-control" id="inputEmail3" placeholder="手机号码" required ng-pattern="/^1\d{10}$/">
            </div>
          </div>
          <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">QQ</label>
            <div class="col-sm-10">
              <input ng-model="usernow.qq" type="text" class="form-control" id="inputEmail3" placeholder="QQ" required ng-pattern="/^\d{6,20}$/">
            </div>
          </div>
          <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">权限</label>
            <div class="col-sm-10">
              <input ng-model="usernow.role" type="text" class="form-control" id="inputEmail3" placeholder="权限">
            </div>
          </div>
          <div class="form-group">
            <label for="inputPassword3" class="col-sm-2 control-label">密码</label>
            <div class="col-sm-10">
              <input ng-model="usernow.passwd" type="password" class="form-control" id="inputPassword3" placeholder="密码" >
            </div>
          </div>
          <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
              <button ng-click="update()" type="submit" ng-disabled="userform.$invalid" class="btn btn-success">更新</button>
              <button ng-click="add()" class="btn btn-primary" ng-disabled="">新增</button>
              <button ng-click="del()" class="btn btn-danger" ng-disabled="!usernow._id.$oid">删除</button>
            </div>
          </div>
          <p ng-show="msg" class="alert alert-danger">{{msg}}</p>
        </form>
      </div>
    </div>
  </div>
</div>